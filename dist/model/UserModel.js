'use strict';

var mongoose = require('mongoose');
var Schema = mongoose.Schema;

/* 模式 */
var UserSchema = new Schema({
    user: String,
    password: String,
    time: String
});

/* 查找 */
UserSchema.statics.findUser = function (data) {
    var _this = this;

    return new Promise(function (resolve, reject) {
        _this.find(data, function (err, result) {
            if (err) reject(err);
            resolve(result);
        });
    });
};

/* 创建用户 */
UserSchema.statics.createUser = function (data) {
    var _this2 = this;

    return new Promise(function (resolve, reject) {
        _this2.create(data, function (err, result) {
            if (err) reject(err);
            resolve(result);
        });
    });
};

var UserModel = mongoose.model('user', UserSchema);

module.exports = UserModel;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbC9Vc2VyTW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwiVXNlclNjaGVtYSIsInVzZXIiLCJTdHJpbmciLCJwYXNzd29yZCIsInRpbWUiLCJzdGF0aWNzIiwiZmluZFVzZXIiLCJkYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaW5kIiwiZXJyIiwicmVzdWx0IiwiY3JlYXRlVXNlciIsImNyZWF0ZSIsIlVzZXJNb2RlbCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBO0FBQ0EsSUFBSUMsYUFBYSxJQUFJRCxNQUFKLENBQVc7QUFDeEJFLFVBQU1DLE1BRGtCO0FBRXhCQyxjQUFVRCxNQUZjO0FBR3hCRSxVQUFNRjtBQUhrQixDQUFYLENBQWpCOztBQU1BO0FBQ0FGLFdBQVdLLE9BQVgsQ0FBbUJDLFFBQW5CLEdBQThCLFVBQVVDLElBQVYsRUFBZ0I7QUFBQTs7QUFDMUMsV0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3BDLGNBQUtDLElBQUwsQ0FBVUosSUFBVixFQUFnQixVQUFVSyxHQUFWLEVBQWVDLE1BQWYsRUFBdUI7QUFDbkMsZ0JBQUlELEdBQUosRUFBU0YsT0FBT0UsR0FBUDtBQUNUSCxvQkFBUUksTUFBUjtBQUNILFNBSEQ7QUFJSCxLQUxNLENBQVA7QUFNSCxDQVBEOztBQVNBO0FBQ0FiLFdBQVdLLE9BQVgsQ0FBbUJTLFVBQW5CLEdBQWdDLFVBQVVQLElBQVYsRUFBZ0I7QUFBQTs7QUFDNUMsV0FBTyxJQUFJQyxPQUFKLENBQVksVUFBQ0MsT0FBRCxFQUFVQyxNQUFWLEVBQXFCO0FBQ3BDLGVBQUtLLE1BQUwsQ0FBWVIsSUFBWixFQUFrQixVQUFVSyxHQUFWLEVBQWVDLE1BQWYsRUFBdUI7QUFDckMsZ0JBQUlELEdBQUosRUFBU0YsT0FBT0UsR0FBUDtBQUNUSCxvQkFBUUksTUFBUjtBQUNILFNBSEQ7QUFJSCxLQUxNLENBQVA7QUFNSCxDQVBEOztBQVVBLElBQUlHLFlBQVluQixTQUFTb0IsS0FBVCxDQUFlLE1BQWYsRUFBdUJqQixVQUF2QixDQUFoQjs7QUFFQWtCLE9BQU9DLE9BQVAsR0FBaUJILFNBQWpCIiwiZmlsZSI6IlVzZXJNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hO1xuXG4vKiDmqKHlvI8gKi9cbnZhciBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdXNlcjogU3RyaW5nLFxuICAgIHBhc3N3b3JkOiBTdHJpbmcsXG4gICAgdGltZTogU3RyaW5nXG59KVxuXG4vKiDmn6Xmib4gKi9cblVzZXJTY2hlbWEuc3RhdGljcy5maW5kVXNlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5maW5kKGRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuLyog5Yib5bu655So5oi3ICovXG5Vc2VyU2NoZW1hLnN0YXRpY3MuY3JlYXRlVXNlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5jcmVhdGUoZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5cbnZhciBVc2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbCgndXNlcicsIFVzZXJTY2hlbWEpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJNb2RlbFxuXG4iXX0=