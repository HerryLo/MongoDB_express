{"version":3,"sources":["../../../routes/user/register.js"],"names":["express","require","router","Router","UserModel","Desregister","get","req","res","next","user","query","password","findUser","then","result","length","send","data","code","desc","exist","time","JSON","stringify","Date","createUser","success","catch","err","console","log","hint","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAMC,YAAYH,QAAQ,uBAAR,CAAlB;;eACsBA,QAAQ,sBAAR,C;IAAfI,W,YAAAA,W;;AAEPH,OAAOI,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChC,QAAMC,OAAOH,IAAII,KAAJ,CAAUD,IAAvB;AACA,QAAME,WAAWL,IAAII,KAAJ,CAAUC,QAA3B;AACA,QAAIF,QAAQE,QAAZ,EAAsB;AAClBR,kBAAUS,QAAV,CAAmB;AACfH,kBAAMA;AADS,SAAnB,EAEGI,IAFH,CAEQ,UAAUC,MAAV,EAAkB;AACtB,gBAAIA,OAAOC,MAAP,GAAgB,CAApB,EAAuB;AACnBR,oBAAIS,IAAJ,CAAS,EAACC,MAAM,EAAP,EAAWC,MAAM,CAAjB,EAAoBC,MAAMf,YAAYgB,KAAtC,EAAT;AACH,aAFD,MAEO;AACH,oBAAMH,OAAO;AACTR,0BAAMA,IADG;AAETE,8BAAUA,QAFD;AAGTU,0BAAMC,KAAKC,SAAL,CAAe,IAAIC,IAAJ,EAAf;AAHG,iBAAb;AAKArB,0BAAUsB,UAAV,CAAqBR,IAArB,EACKJ,IADL,CACU,UAAUC,MAAV,EAAkB;AACpBP,wBAAIS,IAAJ,CAAS,EAACC,MAAMH,MAAP,EAAeI,MAAM,CAArB,EAAwBC,MAAMf,YAAYsB,OAA1C,EAAT;AACH,iBAHL,EAGOC,KAHP,CAGa,UAACC,GAAD,EAAS;AAClBC,4BAAQC,GAAR,CAAYF,GAAZ;AACH,iBALD;AAMH;AACJ,SAlBD,EAkBGD,KAlBH,CAkBS,UAACC,GAAD,EAAS;AACdC,oBAAQC,GAAR,CAAYF,GAAZ;AACH,SApBD;AAqBH,KAtBD,MAsBO;AACHrB,YAAIS,IAAJ,CAAS,EAACC,MAAM,EAAP,EAAWC,MAAM,CAAjB,EAAoBC,MAAMf,YAAY2B,IAAtC,EAAT;AACH;AACJ,CA5BD;;AA8BAC,OAAOC,OAAP,GAAiBhC,MAAjB","file":"register.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst UserModel = require('../../model/UserModel')\r\nconst {Desregister} = require('../../utils/constant')\r\n\r\nrouter.get('/', (req, res, next) => {\r\n    const user = req.query.user;\r\n    const password = req.query.password;\r\n    if (user && password) {\r\n        UserModel.findUser({\r\n            user: user\r\n        }).then(function (result) {\r\n            if (result.length > 0) {\r\n                res.send({data: [], code: 1, desc: Desregister.exist})\r\n            } else {\r\n                const data = {\r\n                    user: user,\r\n                    password: password,\r\n                    time: JSON.stringify(new Date())\r\n                }\r\n                UserModel.createUser(data)\r\n                    .then(function (result) {\r\n                        res.send({data: result, code: 1, desc: Desregister.success})\r\n                    }).catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        })\r\n    } else {\r\n        res.send({data: [], code: 1, desc: Desregister.hint})\r\n    }\r\n})\r\n\r\nmodule.exports = router;"]}