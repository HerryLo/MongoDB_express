{"version":3,"sources":["../../../routes/user/login.js"],"names":["express","require","router","Router","UserModel","Sendformat","loginCheck","query","d","user","password","get","req","res","next","cookies","findUser","then","result","obj","desc","send","code","data","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;AACA,IAAMC,YAAYH,QAAQ,uBAAR,CAAlB;;eACqBA,QAAQ,sBAAR,C;IAAdI,U,YAAAA,U;;AAEP,IAAMC,aAAa,SAAbA,UAAa,CAACC,KAAD,EAAQC,CAAR,EAAa;AAC5B,QAAMC,OAAOF,MAAME,IAAnB;AACA,QAAMC,WAAWH,MAAMG,QAAvB;AACA,QAAG,CAACF,CAAJ,EAAO,OAAO,KAAP;AACP,QAAGC,QAAQD,EAAEC,IAAV,IAAkBC,YAAYF,EAAEE,QAAnC,EAA4C;AACxC,eAAO,UAAP;AACH,KAFD,MAEK;AACD,eAAO,IAAP;AACH;AACJ,CATD;;AAWAR,OAAOS,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChC,QAAMC,UAAUH,IAAIG,OAApB;AACA,QAAMN,OAAOG,IAAIL,KAAJ,CAAUE,IAAvB;AACA,QAAMC,WAAWE,IAAIL,KAAJ,CAAUG,QAA3B;AACAN,cAAUY,QAAV,CAAmB;AACfP,cAAMA;AADS,KAAnB,EAEGQ,IAFH,CAEQ,UAAUC,MAAV,EAAkB;AACtB,YAAMV,IAAIU,OAAO,CAAP,CAAV;AACA,YAAIC,MAAM,EAAV;AACA,YAAIC,OAAOd,WAAWM,IAAIL,KAAf,EAAsBC,CAAtB,CAAX;AACA,YAAIA,CAAJ,EAAO;AACHK,gBAAIQ,IAAJ,CAAS,EAACC,MAAM,CAAP,EAAUF,MAAMA,IAAhB,EAAsBG,MAAK,EAA3B,EAAT;AACH,SAFD,MAEO;AACHV,gBAAIQ,IAAJ,CAAS,EAACC,MAAM,CAAP,EAAUF,MAAMA,IAAhB,EAAsBG,MAAMA,IAA5B,EAAT;AACH;AAEJ,KAZD;AAcH,CAlBD;;AAoBAC,OAAOC,OAAP,GAAiBvB,MAAjB","file":"login.js","sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst UserModel = require('../../model/UserModel')\nconst {Sendformat} = require('../../utils/constant')\n\nconst loginCheck = (query, d)=> {\n    const user = query.user;\n    const password = query.password;\n    if(!d) return false;\n    if(user != d.user || password != d.password){\n        return '用户名或密码错误'\n    }else{\n        return '成功'\n    }\n}\n\nrouter.get('/', (req, res, next) => {\n    const cookies = req.cookies;\n    const user = req.query.user;\n    const password = req.query.password;\n    UserModel.findUser({\n        user: user\n    }).then(function (result) {\n        const d = result[0];\n        let obj = {};\n        let desc = loginCheck(req.query, d);\n        if (d) {\n            res.send({code: 0, desc: desc, data:[]});\n        } else {\n            res.send({code: 1, desc: desc, data: data});\n        }\n\n    })\n\n});\n\nmodule.exports = router;\n"]}