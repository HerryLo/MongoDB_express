{"version":3,"sources":["../../../routes/other/fetchImg.js"],"names":["express","require","utils","router","Router","get","req","res","next","query","url","imgSrc","GetImg","then","redirect","send","data","code","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,QAAQD,QAAQ,sBAAR,CAAd;AACA,IAAME,SAASH,QAAQI,MAAR,EAAf;;AAEA;;;AAGAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAmB;AAC/B,QAAMC,QAAQH,IAAIG,KAAlB;AACA,QAAMC,MAAMD,MAAME,MAAlB;AACA,QAAID,GAAJ,EAAS;AACLR,cAAMU,MAAN,CAAaF,GAAb,EACKG,IADL,CACU,UAAUH,GAAV,EAAe;AACjBH,gBAAIO,QAAJ,CAAa,UAAUJ,GAAvB;AACH,SAHL;AAIH,KALD,MAKO;AACHH,YAAIQ,IAAJ,CAAS,EAACC,MAAM,EAAP,EAAWC,MAAM,CAAjB,EAAT;AACH;AACJ,CAXD;;AAaAC,OAAOC,OAAP,GAAiBhB,MAAjB","file":"fetchImg.js","sourcesContent":["const express = require('express');\r\nconst utils = require('../../utils/utils.js');\r\nconst router = express.Router();\r\n\r\n/**\r\n * 抓取图片\r\n */\r\nrouter.get('/', (req, res, next)=> {\r\n    const query = req.query;\r\n    const url = query.imgSrc;\r\n    if (url) {\r\n        utils.GetImg(url)\r\n            .then(function (url) {\r\n                res.redirect('/img/' + url);\r\n            });\r\n    } else {\r\n        res.send({data: \"\", code: 0});\r\n    }\r\n});\r\n\r\nmodule.exports = router;"]}