{"version":3,"sources":["../../../routes/article/artList.js"],"names":["express","require","artListModel","router","Router","data","title","content","time","Date","username","imgSrc","avatarImg","attention","comment","get","req","res","next","artListFind","post","artListCreate","create","error","console","log","find","result","length","send","code","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,eAAeD,QAAQ,6BAAR,CAAnB;AACA,IAAIE,SAASH,QAAQI,MAAR,EAAb;;AAEA,IAAIC,OAAO;AACPC,WAAO,wCADA;AAEPC,aAAS,6FAFF;AAGPC,UAAM,IAAIC,IAAJ,EAHC;AAIPC,cAAU,UAJH;AAKPC,YAAQ,kIALD;AAMPC,eAAW,wHANJ;AAOPC,eAAW,EAPJ;AAQPC,aAAS;AARF,CAAX;;AAWA;AACAX,OAAOY,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChCC,gBAAYF,GAAZ;AACH,CAFD;;AAIAd,OAAOiB,IAAP,CAAY,GAAZ,EAAiB,UAACJ,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjCG,kBAAcJ,GAAd;AACH,CAFD;;AAIA,SAASI,aAAT,CAAuBJ,GAAvB,EAA4B;AACxBf,iBAAaoB,MAAb,CAAoBjB,IAApB,EAA0B,UAACkB,KAAD,EAAW;AACjC,YAAIA,KAAJ,EAAW;AACPC,oBAAQC,GAAR,CAAYF,KAAZ;AACA,mBAAO,IAAP;AACH,SAHD,MAGO;AACHC,oBAAQC,GAAR,CAAY,SAAZ;AACAN,wBAAYF,GAAZ;AACA,mBAAO,IAAP;AACH;AACJ,KATD;AAUH;;AAED,SAASE,WAAT,CAAqBF,GAArB,EAA0B;AACtBf,iBAAawB,IAAb,CAAkB,UAACH,KAAD,EAAQI,MAAR,EAAmB;AACjC,YAAIJ,KAAJ,EAAW;AACPC,oBAAQC,GAAR,CAAYF,KAAZ;AACH,SAFD,MAEO;AACH,gBAAII,OAAOC,MAAP,GAAgB,CAApB,EAAuB;AACnBX,oBAAIY,IAAJ,CAAS,EAACxB,MAAMsB,MAAP,EAAeG,MAAM,CAArB,EAAT;AACA,uBAAO,IAAP;AACH,aAHD,MAGO;AACHT,8BAAcJ,GAAd;AACA,uBAAO,IAAP;AACH;AACJ;AACJ,KAZD;AAaH;;AAEDc,OAAOC,OAAP,GAAiB7B,MAAjB","file":"artList.js","sourcesContent":["var express = require('express');\r\nvar artListModel = require('../../model/artListModel.js');\r\nvar router = express.Router();\r\n\r\nvar data = {\r\n    title: '【计算机本科补全计划】CCF计算机职业资格认证 201709-01/02详解',\r\n    content: '正文之前 貌似我找到的那个题目网站更新了一波最新的题目。不过201709 只有1、2 题，所以先做了吧（其实是我自己对能不能做出第三题 持怀疑态度！）宝宝心里苦啊！！！😭！！...',\r\n    time: new Date(),\r\n    username: '大力_Darcy',\r\n    imgSrc: 'http://upload-images.jianshu.io/upload_images/3810775-d4361a41b22572b1.png?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240',\r\n    avatarImg: 'http://upload.jianshu.io/users/upload_avatars/2313466/fee3d9d86554?imageMogr2/auto-orient/strip|imageView2/1/w/64/h/64',\r\n    attention: 34,\r\n    comment: 110\r\n};\r\n\r\n/* GET home page. */\r\nrouter.get('/', (req, res, next) => {\r\n    artListFind(res);\r\n});\r\n\r\nrouter.post('/', (req, res, next) => {\r\n    artListCreate(res);\r\n})\r\n\r\nfunction artListCreate(res) {\r\n    artListModel.create(data, (error) => {\r\n        if (error) {\r\n            console.log(error);\r\n            return true;\r\n        } else {\r\n            console.log('save ok');\r\n            artListFind(res)\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction artListFind(res) {\r\n    artListModel.find((error, result) => {\r\n        if (error) {\r\n            console.log(error);\r\n        } else {\r\n            if (result.length > 0) {\r\n                res.send({data: result, code: 0});\r\n                return true;\r\n            } else {\r\n                artListCreate(res);\r\n                return true;\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nmodule.exports = router;\r\n"]}