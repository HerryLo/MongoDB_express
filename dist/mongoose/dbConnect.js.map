{"version":3,"sources":["../../mongoose/dbConnect.js"],"names":["mongoose","require","constant","Promise","global","connect","dbUrl","useMongoClient","db","connection","once","callback","console","log","on","close","module","exports"],"mappings":";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,sBAAR,CAAf;;AAEAD,SAASG,OAAT,GAAmBC,OAAOD,OAA1B;AACAC,OAAOJ,QAAP,GAAkBA,QAAlB;;AAEA,SAASK,OAAT,GAAmB;AACfL,aAASK,OAAT,CAAiBH,SAASI,KAA1B,EAAiC;AAC7BC,wBAAgB;AADa,KAAjC;AAGA,QAAIC,KAAKR,SAASS,UAAlB;AACAD,OAAGE,IAAH,CAAQ,MAAR,EAAgB,UAACC,QAAD,EAAa;AACzBC,gBAAQC,GAAR,CAAY,wBAAZ;AACH,KAFD;AAGAL,OAAGM,EAAH,CAAM,OAAN,EAAe,YAAK;AAChBF,gBAAQC,GAAR,CAAY,sBAAZ;AACAL,WAAGO,KAAH;AACH,KAHD;AAIH;AACDC,OAAOC,OAAP,GAAiB;AACbZ,aAASA,OADI;AAEbL,cAAUA;AAFG,CAAjB","file":"dbConnect.js","sourcesContent":["var mongoose = require('mongoose');\r\nvar constant = require('../utils/constant.js');\r\n\r\nmongoose.Promise = global.Promise;\r\nglobal.mongoose = mongoose\r\n\r\nfunction connect() {\r\n    mongoose.connect(constant.dbUrl, {\r\n        useMongoClient: true\r\n    })\r\n    var db = mongoose.connection;\r\n    db.once('open', (callback)=> {\r\n        console.log('db connection success:');\r\n    });\r\n    db.on('error', ()=> {\r\n        console.log('db connection error:')\r\n        db.close();\r\n    });\r\n}\r\nmodule.exports = {\r\n    connect: connect,\r\n    mongoose: mongoose\r\n}"]}